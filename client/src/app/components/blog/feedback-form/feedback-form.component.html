<form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" class="card">
  <h2>Donnez votre avis</h2>

  <label>Titre</label>
  <input type="text" formControlName="title" />
  <div *ngIf="feedbackForm.controls['title'].touched && feedbackForm.controls['title'].invalid" class="error">
    Le titre est requis (min 5 caractères).
  </div>

  <label>Contenu</label>
  <textarea formControlName="content"></textarea>
  <div *ngIf="feedbackForm.controls['content'].touched && feedbackForm.controls['content'].invalid" class="error">
    Le contenu est requis (min 10 caractères).
  </div>

  <label>Catégorie</label>
  <select formControlName="category">
    <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
  </select>

  <label>Tags</label>
  <input type="text" formControlName="tags" placeholder="ex: ui, bug, performance" />

  <label>Évaluez votre expérience</label>
  <div class="emoji-row">
    <span
      *ngFor="let emoji of emojis; index as i"
      [class.selected]="i === selectedEmojiIndex"
      (click)="selectEmoji(i)">
      {{ emoji }}
    </span>
  </div>
  <div *ngIf="selectedEmojiIndex === null" class="error">Sélectionnez une note.</div>

  <button type="submit">Envoyer</button>
</form>
